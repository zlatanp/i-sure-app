<div ng-if="indexVm.addPricelist" style="width: 50%;margin-left: auto;margin-right: auto; " layout="column" layout-padding ng-cloak>
  <br/>
  <form name="addingPricelist">
  <md-toolbar style="min-height: 45px;margin-bottom: 10px;">
		<div class="md-toolbar-tools" style="max-height: 45px;">
			<h3>
				<span>Add Pricelist</span>
			</h3>
		</div>
	</md-toolbar>
	  <md-content class="md-no-momentum">
	  <div style="width: 20%; float: left; padding: 15px;">
                            <p>Expiration date: </p>
                        </div>
                        <div style="width: 80%;">
                            <div flex-gt-xs style="width: 200px; float: left;margin-right: 20px;margin-left: -10px;">
                                <md-datepicker ng-model="indexVm.pricelist.dateTo" md-placeholder="Enter date"
                                               md-min-date="indexVm.maxDateTo"
                                               md-date-filter="indexVm.isDateValid" required></md-datepicker>
                            </div>
                        </div>
	   
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <form>
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" ng-model="selectedAll" ng-click="indexVm.checkAll()" /></th>
                                        <th>Risk Name</th>
                                        <th>Risk Type</th>
                                        <th>Coefficient</th>
                                        <th>Price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="pricelistItem in indexVm.pricelistItems">
                                        <td><input type="checkbox" ng-model="pricelistItem.selected"/></td>
                                        <td>
                                    		<md-select ng-model="pricelistItem.risk" md-selected-text="pricelistItem.risk.riskName" style="margin-top:0px;margin-bottom:0px;">
                                        		<md-optgroup label=""> 
                                            		<md-option ng-value="risk" ng-repeat="risk in indexVm.residualRisks">{{risk.riskName}}
                                            		</md-option>
                                        		</md-optgroup>
                                    		</md-select></td>
                                    	<td>{{pricelistItem.risk.riskType.riskTypeName}}</td>
                                        <td><input type="number" step="0.01" min="0" ng-model="pricelistItem.coefficient" class="form-control" placeholder="0.00" required></td>
                                        <td>
                                        <input type="number" step="0.01" min="0" ng-model="pricelistItem.price" class="form-control" placeholder="0.00" required></td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="form-group">
                                <input ng-hide="!indexVm.pricelistItems.length" type="button" class="btn btn-danger pull-right" ng-click="indexVm.remove()" value="Remove">
                                <input type="button" class="btn btn-primary addnew pull-right" style="background-color: rgb(63,81,181);" value="Add Item" ng-click="indexVm.addNew()" >
                            </div>
                        </form>
                    </div>
                </div>
            </div>
             <div flex layout="row" layout layout-align="end top" style="width:100%;display: inline-block;">
	             <md-button layout style="float:right;margin-right: 15px;" ng-disabled="addingPricelist.$invalid" ng-click="indexVm.submitAddingPricelist()" class="md-raised md-primary">
	                Submit
	             </md-button>
	             <md-tooltip ng-if="addingPricelist.$invalid" md-direction="top">Enter all data.</md-tooltip>
             </div>
            
        </div>
