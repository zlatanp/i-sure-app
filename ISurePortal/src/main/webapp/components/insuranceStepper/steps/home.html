<md-step label="Home insurance"
         md-complete="!vm.dummy.step3.$invalid && !vm.stepThree.isSkiped">
    <md-step-body>
        <form name="vm.dummy.step3">
            <md-content class="md-padding">
                <div layout="row" layout-align="center top">
                    <div flex="nogrow" style="width: 700px;margin-left: 100px;">

                        <div layout="row" style="width: 100%;margin-top: -10px;">
                            <div style="width: 20%; padding-top: 25px;float:left;">
                                <p>Area of home:</p>
                            </div>
                            <div style="width: 80%;">
                                <md-input-container>
                                    <md-select
                                            ng-model="vm.stepThree.data.selectedArea"
                                            md-selected-text="vm.stepThree.data.selectedArea.riskName">
                                        <md-optgroup
                                                label="areas">
                                            <md-option ng-value="area"
                                                       ng-repeat="area in vm.homeRisks['Surface area']">
                                                {{area.riskName}}
                                            </md-option>
                                        </md-optgroup>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>

                        <div layout="row" style="width: 100%;margin-top: -10px;">
                            <div style="width: 20%; padding-top: 25px;float:left;">
                                <p>Age of home:</p>
                            </div>
                            <div style="width: 80%;">
                                <md-input-container>
                                    <md-select
                                            ng-model="vm.stepThree.data.selectedAge"
                                            md-selected-text="vm.stepThree.data.selectedAge.riskName">
                                        <md-optgroup
                                                label="age">
                                            <md-option ng-value="age"
                                                       ng-repeat="age in vm.homeRisks['Property age']">{{age.riskName}}
                                            </md-option>
                                        </md-optgroup>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>

                        <div layout="row" style="width: 100%;margin-top: -10px;">
                            <div style="width: 20%; padding-top: 25px;float:left;">
                                <p>Home value:</p>
                            </div>
                            <div style="width: 80%;">
                                <md-input-container>
                                    <md-select ng-model="vm.stepThree.data.selectedValue"
                                               md-selected-text="vm.stepThree.data.selectedValue.riskName">
                                        <md-optgroup
                                                label="values">
                                            <md-option ng-value="value"
                                                       ng-repeat="value in vm.homeRisks['Estimated value of property']">
                                                {{value.riskName}}
                                            </md-option>
                                        </md-optgroup>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>

                        <div layout="row" style="width: 100%;margin-top: -10px;margin-bottom: 15px;">
                            <div style="width: 20%; padding-top: 25px;float:left;">
                                <p>Type of risk:</p>
                            </div>
                            <div style="width: 80%;">
                                <md-input-container>
                                    <md-select
                                            ng-model="vm.stepThree.data.selectedRisk"
                                            md-selected-text="vm.stepThree.data.selectedRisk.riskName">
                                        <md-optgroup
                                                label="risks">
                                            <md-option ng-value="risk"
                                                       ng-repeat="risk in vm.homeRisks['Property risks']">
                                                {{risk.riskName}}
                                            </md-option>
                                        </md-optgroup>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                        <md-input-container class="md-block input-adjust" style="width: 60%;"><label>Owner Firstname
                        </label> <input name="firstname" ng-model="vm.stepThree.data.firstname" required/>
                        </md-input-container>
                        <md-input-container class="md-block input-adjust" style="width: 60%;"><label>Owner Lastname
                        </label> <input name="lastname" ng-model="vm.stepThree.data.lastname" required/>
                        </md-input-container>
                        <md-input-container class="md-block input-adjust" style="width: 60%;"><label>Personal ID</label>
                            <input type="text" minlength="13" maxlength="13" pattern="^(\d{13})?$" name="personalId"
                                   ng-model="vm.stepThree.data.personalId" required/></md-input-container>
                        <md-input-container class="md-block input-adjust" style="margin-top: -10px;width: 60%;"><label>Address</label>
                            <input name="address" ng-model="vm.stepThree.data.address" required/></md-input-container>
                    </div>
                </div>
            </md-content>
            <md-step-actions layout="row">
                <div flex>
                    <md-button ng-click="vm.moveToPreviousStep()">GO BACK</md-button>

                </div>
                <div flex layout="row" layout-align="end top">
                    <md-button class="md-warn" ng-click="vm.cancel()">HOME PAGE</md-button>
                    <div>
                        <md-button type="submit" class="gold-btn" ng-click="vm.skip('home')">DON'T WANT IT
                        </md-button>
                        <md-tooltip md-direction="bottom">IF YOU ALREADY HAVE ADDED HOME INSURANCE, THIS WILL EXCLUDE IT.
                        </md-tooltip>
                    </div>
                    <div>
                        <md-button ng-disabled="vm.dummy.step3.$invalid" ng-click="vm.showPriceForHome($event)" class="gold-btn">
                            CURRENT PRICE
                        </md-button>
                        <md-tooltip ng-if="vm.dummy.step3.$invalid" md-direction="bottom">IF YOU WANT TO ADD THIS THEN DATA MUST BE VALID</md-tooltip>
                    </div>
                    <div>
                        <md-button type="submit" ng-disabled="vm.dummy.step3.$invalid" class="gold-btn"
                                   ng-click="vm.submitCurrentStep()">ADD TO POLICY AND PROCEED
                        </md-button>
                        <md-tooltip ng-if="vm.dummy.step3.$invalid" md-direction="bottom">IF YOU WANT TO ADD THIS THEN DATA MUST BE VALID
                        </md-tooltip>
                    </div>
                </div>
            </md-step-actions>
        </form>
    </md-step-body>
</md-step>